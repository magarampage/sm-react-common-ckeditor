"use strict";function _interopDefault(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var ClassicEditor=_interopDefault(require("@ckeditor/ckeditor5-build-classic")),React=require("react"),React__default=_interopDefault(React);function createCommonjsModule(e,t){return e(t={exports:{}},t.exports),t.exports}!function(e){e.ru=Object.assign(e.ru||{},{a:"Невозможно загрузить файл",b:"Цитата",c:"Курсив",d:"Жирный",e:"Выбрать заголовок",f:"Заголовок",g:"Виджет изображений",h:"Подпись к изображению",i:"Оригинальный размер изображения",j:"Боковое изображение",k:"Выравнивание по левому краю",l:"Выравнивание по центру",m:"Выравнивание по правому краю",n:"Вставить изображение",o:"Загрузка не выполнена",p:"Ссылка",q:"Нумерованный список",r:"Маркированный список",s:"Параграф",t:"Заголовок 1",u:"Заголовок 2",v:"Заголовок 3",w:"Редактировать альтернативный текст",x:"Убрать ссылку",y:"Редактировать ссылку",z:"Открыть ссылку в новой вкладке",aa:"Для этой ссылки не установлен адрес URL",ab:"Сохранить",ac:"Отмена",ad:"Ссылка URL",ae:"Upload in progress",af:"Редактор, %0",ag:"Редактор",ah:"Альтернативный текст",ai:"Отменить",aj:"Повторить"})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={}));var ReactPropTypesSecret="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret;function emptyFunction(){}var factoryWithThrowingShims=function(){function e(e,t,r,o,n,a){if(a!==ReactPropTypesSecret_1){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}var r={array:e.isRequired=e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return r.checkPropTypes=emptyFunction,r.PropTypes=r},propTypes=createCommonjsModule(function(e){e.exports=factoryWithThrowingShims()});function styleInject(e,t){void 0===t&&(t={});var r=t.insertAt;if(e&&"undefined"!=typeof document){var o=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css","top"===r&&o.firstChild?o.insertBefore(n,o.firstChild):o.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}}var css=".ck-editor__editable {\n\tmin-height: 300px;\n}\n\n.modal-backdrop {\n\tz-index: 998;\n}\n\n.ck-rounded-corners.ck.ck-balloon-panel {\n\tz-index: 9999;\n}\n\n.ck li {\n\tlist-style-type: inherit;\n}";styleInject(css);var classCallCheck=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},createClass=function(){function o(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e}}(),inherits=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},possibleConstructorReturn=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},CKEditor=function(e){function r(e){classCallCheck(this,r);var t=possibleConstructorReturn(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e));return t.state={},t}return inherits(r,e),createClass(r,null,[{key:"getDerivedStateFromProps",value:function(e,t){var r=e.answer;return r!==t.answer?{answer:r}:null}}]),createClass(r,[{key:"componentDidMount",value:function(){var r=this;ClassicEditor.create(r.refs.editor,{toolbar:["heading","|","bold","italic","link","bulletedList","numberedList","blockQuote"],language:"ru"}).then(function(t){(r.editor=t).setData(r.props.initialValue),t.model.document.on("change",function(e){r.props.onChange(t.getData())})}).catch(function(e){console.error(e)})}},{key:"shouldComponentUpdate",value:function(e,t){var r=e.empty;return!(e.value===this.props.value&&r===this.props.empty)}},{key:"componentDidUpdate",value:function(e){var t=e.commentId,r=e.value,o=e.date;this.props.empty&&this.editor.setData(""),t!==this.props.commentId&&r!==this.props.value&&this.editor.setData(this.props.value),o!==this.props.date&&this.editor.setData(this.props.value)}},{key:"render",value:function(){return React__default.createElement("div",{className:"form-group"},React__default.createElement("textarea",{ref:"editor",className:"form-control",name:"content",id:"editor",rows:10}))}}]),r}(React.Component);CKEditor.propTypes={date:propTypes.string,empty:propTypes.bool,commentId:propTypes.number,form:propTypes.object,onChange:propTypes.func,value:propTypes.oneOfType([propTypes.number,propTypes.string,propTypes.object]),initialValue:propTypes.oneOfType([propTypes.number,propTypes.string,propTypes.object])},CKEditor.defaultProps={value:null},module.exports=CKEditor;
