"use strict";function _interopDefault(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var ClassicEditor=_interopDefault(require("@ckeditor/ckeditor5-build-classic")),React=require("react"),React__default=_interopDefault(React);function createCommonjsModule(e,t){return e(t={exports:{}},t.exports),t.exports}!function(e){e.ru=Object.assign(e.ru||{},{a:"Невозможно загрузить файл",b:"Цитата",c:"Курсив",d:"Жирный",e:"Выбрать заголовок",f:"Заголовок",g:"Виджет изображений",h:"Подпись к изображению",i:"Оригинальный размер изображения",j:"Боковое изображение",k:"Выравнивание по левому краю",l:"Выравнивание по центру",m:"Выравнивание по правому краю",n:"Вставить изображение",o:"Загрузка не выполнена",p:"Ссылка",q:"Нумерованный список",r:"Маркированный список",s:"Параграф",t:"Заголовок 1",u:"Заголовок 2",v:"Заголовок 3",w:"Редактировать альтернативный текст",x:"Убрать ссылку",y:"Редактировать ссылку",z:"Открыть ссылку в новой вкладке",aa:"Для этой ссылки не установлен адрес URL",ab:"Сохранить",ac:"Отмена",ad:"Ссылка URL",ae:"Upload in progress",af:"Редактор, %0",ag:"Редактор",ah:"Альтернативный текст",ai:"Отменить",aj:"Повторить"})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={}));var getOwnPropertySymbols=Object.getOwnPropertySymbols,hasOwnProperty=Object.prototype.hasOwnProperty,propIsEnumerable=Object.prototype.propertyIsEnumerable;function toObject(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function shouldUseNative(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(e){n[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}var objectAssign=shouldUseNative()?Object.assign:function(e,t){for(var r,n,o=toObject(e),a=1;a<arguments.length;a++){for(var i in r=Object(arguments[a]))hasOwnProperty.call(r,i)&&(o[i]=r[i]);if(getOwnPropertySymbols){n=getOwnPropertySymbols(r);for(var c=0;c<n.length;c++)propIsEnumerable.call(r,n[c])&&(o[n[c]]=r[n[c]])}}return o},ReactPropTypesSecret="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret,printWarning=function(){},ReactPropTypesSecret$1=ReactPropTypesSecret_1,loggedTypeFailures={};function checkPropTypes(e,t,r,n,o){for(var a in e)if(e.hasOwnProperty(a)){var i;try{if("function"!=typeof e[a]){var c=Error((n||"React class")+": "+r+" type `"+a+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof e[a]+"`.");throw c.name="Invariant Violation",c}i=e[a](t,a,n,r,null,ReactPropTypesSecret$1)}catch(e){i=e}if(!i||i instanceof Error||printWarning((n||"React class")+": type specification of "+r+" `"+a+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof i+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),i instanceof Error&&!(i.message in loggedTypeFailures)){loggedTypeFailures[i.message]=!0;var u=o?o():"";printWarning("Failed "+r+" type: "+i.message+(null!=u?u:""))}}}printWarning=function(e){var t="Warning: "+e;"undefined"!=typeof console&&console.error(t);try{throw new Error(t)}catch(e){}};var checkPropTypes_1=checkPropTypes,printWarning$1=function(){};function emptyFunctionThatReturnsNull(){return null}printWarning$1=function(e){var t="Warning: "+e;"undefined"!=typeof console&&console.error(t);try{throw new Error(t)}catch(e){}};var factoryWithTypeCheckers=function(c,f){var a="function"==typeof Symbol&&Symbol.iterator,i="@@iterator";var y="<<anonymous>>",e={array:t("array"),bool:t("boolean"),func:t("function"),number:t("number"),object:t("object"),string:t("string"),symbol:t("symbol"),any:r(emptyFunctionThatReturnsNull),arrayOf:function(p){return r(function(e,t,r,n,o){if("function"!=typeof p)return new d("Property `"+o+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var a=e[t];if(!Array.isArray(a)){var i=v(a);return new d("Invalid "+n+" `"+o+"` of type `"+i+"` supplied to `"+r+"`, expected an array.")}for(var c=0;c<a.length;c++){var u=p(a,c,r,n,o+"["+c+"]",ReactPropTypesSecret_1);if(u instanceof Error)return u}return null})},element:r(function(e,t,r,n,o){var a=e[t];if(!c(a)){var i=v(a);return new d("Invalid "+n+" `"+o+"` of type `"+i+"` supplied to `"+r+"`, expected a single ReactElement.")}return null}),instanceOf:function(c){return r(function(e,t,r,n,o){if(!(e[t]instanceof c)){var a=c.name||y,i=function(e){if(!e.constructor||!e.constructor.name)return y;return e.constructor.name}(e[t]);return new d("Invalid "+n+" `"+o+"` of type `"+i+"` supplied to `"+r+"`, expected instance of `"+a+"`.")}return null})},node:r(function(e,t,r,n,o){return u(e[t])?null:new d("Invalid "+n+" `"+o+"` supplied to `"+r+"`, expected a ReactNode.")}),objectOf:function(p){return r(function(e,t,r,n,o){if("function"!=typeof p)return new d("Property `"+o+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var a=e[t],i=v(a);if("object"!==i)return new d("Invalid "+n+" `"+o+"` of type `"+i+"` supplied to `"+r+"`, expected an object.");for(var c in a)if(a.hasOwnProperty(c)){var u=p(a,c,r,n,o+"."+c,ReactPropTypesSecret_1);if(u instanceof Error)return u}return null})},oneOf:function(u){if(!Array.isArray(u))return printWarning$1("Invalid argument supplied to oneOf, expected an instance of array."),emptyFunctionThatReturnsNull;return r(function(e,t,r,n,o){for(var a=e[t],i=0;i<u.length;i++)if(p(a,u[i]))return null;var c=JSON.stringify(u);return new d("Invalid "+n+" `"+o+"` of value `"+a+"` supplied to `"+r+"`, expected one of "+c+".")})},oneOfType:function(c){if(!Array.isArray(c))return printWarning$1("Invalid argument supplied to oneOfType, expected an instance of array."),emptyFunctionThatReturnsNull;for(var e=0;e<c.length;e++){var t=c[e];if("function"!=typeof t)return printWarning$1("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+n(t)+" at index "+e+"."),emptyFunctionThatReturnsNull}return r(function(e,t,r,n,o){for(var a=0;a<c.length;a++){var i=c[a];if(null==i(e,t,r,n,o,ReactPropTypesSecret_1))return null}return new d("Invalid "+n+" `"+o+"` supplied to `"+r+"`.")})},shape:function(s){return r(function(e,t,r,n,o){var a=e[t],i=v(a);if("object"!==i)return new d("Invalid "+n+" `"+o+"` of type `"+i+"` supplied to `"+r+"`, expected `object`.");for(var c in s){var u=s[c];if(u){var p=u(a,c,r,n,o+"."+c,ReactPropTypesSecret_1);if(p)return p}}return null})},exact:function(l){return r(function(e,t,r,n,o){var a=e[t],i=v(a);if("object"!==i)return new d("Invalid "+n+" `"+o+"` of type `"+i+"` supplied to `"+r+"`, expected `object`.");var c=objectAssign({},e[t],l);for(var u in c){var p=l[u];if(!p)return new d("Invalid "+n+" `"+o+"` key `"+u+"` supplied to `"+r+"`.\nBad object: "+JSON.stringify(e[t],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(l),null,"  "));var s=p(a,u,r,n,o+"."+u,ReactPropTypesSecret_1);if(s)return s}return null})}};function p(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function d(e){this.message=e,this.stack=""}function r(p){var s={},l=0;function e(e,t,r,n,o,a,i){if(n=n||y,a=a||r,i!==ReactPropTypesSecret_1){if(f){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}if("undefined"!=typeof console){var u=n+":"+r;!s[u]&&l<3&&(printWarning$1("You are manually calling a React.PropTypes validation function for the `"+a+"` prop on `"+n+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),s[u]=!0,l++)}}return null==t[r]?e?null===t[r]?new d("The "+o+" `"+a+"` is marked as required in `"+n+"`, but its value is `null`."):new d("The "+o+" `"+a+"` is marked as required in `"+n+"`, but its value is `undefined`."):null:p(t,r,n,o,a)}var t=e.bind(null,!1);return t.isRequired=e.bind(null,!0),t}function t(c){return r(function(e,t,r,n,o,a){var i=e[t];return v(i)!==c?new d("Invalid "+n+" `"+o+"` of type `"+s(i)+"` supplied to `"+r+"`, expected `"+c+"`."):null})}function u(e){switch(typeof e){case"number":case"string":case"undefined":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(u);if(null===e||c(e))return!0;var t=function(e){var t=e&&(a&&e[a]||e[i]);if("function"==typeof t)return t}(e);if(!t)return!1;var r,n=t.call(e);if(t!==e.entries){for(;!(r=n.next()).done;)if(!u(r.value))return!1}else for(;!(r=n.next()).done;){var o=r.value;if(o&&!u(o[1]))return!1}return!0;default:return!1}}function v(e){var t,r=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":(t=e,"symbol"===r||"Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol?"symbol":r)}function s(e){if(null==e)return""+e;var t=v(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function n(e){var t=s(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}return d.prototype=Error.prototype,e.checkPropTypes=checkPropTypes_1,e.PropTypes=e},propTypes=createCommonjsModule(function(e){var t="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;e.exports=factoryWithTypeCheckers(function(e){return"object"==typeof e&&null!==e&&e.$$typeof===t},!0)});function styleInject(e,t){void 0===t&&(t={});var r=t.insertAt;if(e&&"undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===r&&n.firstChild?n.insertBefore(o,n.firstChild):n.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}var css=".ck-editor__editable {\n\tmin-height: 300px;\n}\n\n.modal-backdrop {\n\tz-index: 998;\n}\n\n.ck-rounded-corners.ck.ck-balloon-panel {\n\tz-index: 9999;\n}\n\n.ck li {\n\tlist-style-type: inherit;\n}";styleInject(css);var classCallCheck=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},createClass=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),inherits=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},possibleConstructorReturn=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},CKEditor=function(e){function r(e){classCallCheck(this,r);var t=possibleConstructorReturn(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e));return t.state={},t}return inherits(r,e),createClass(r,null,[{key:"getDerivedStateFromProps",value:function(e,t){var r=e.answer;return r!==t.answer?{answer:r}:null}}]),createClass(r,[{key:"componentDidMount",value:function(){var r=this;ClassicEditor.create(r.refs.editor,{toolbar:["heading","|","bold","italic","link","bulletedList","numberedList","blockQuote"],language:"ru"}).then(function(t){(r.editor=t).setData(r.props.initialValue),t.model.document.on("change",function(e){r.props.onChange(t.getData())})}).catch(function(e){console.error(e)})}},{key:"shouldComponentUpdate",value:function(e,t){var r=e.empty;return!(e.value===this.props.value&&r===this.props.empty)}},{key:"componentDidUpdate",value:function(e){var t=e.commentId,r=e.value,n=e.date;this.props.empty&&this.editor.setData(""),t!==this.props.commentId&&r!==this.props.value&&this.editor.setData(this.props.value),n!==this.props.date&&this.editor.setData(this.props.value)}},{key:"render",value:function(){return React__default.createElement("div",{className:"form-group"},React__default.createElement("textarea",{ref:"editor",className:"form-control",name:"content",id:"editor",rows:10}))}}]),r}(React.Component);CKEditor.propTypes={date:propTypes.string,empty:propTypes.bool,commentId:propTypes.number,form:propTypes.object,onChange:propTypes.func,value:propTypes.oneOfType([propTypes.number,propTypes.string,propTypes.object]),initialValue:propTypes.oneOfType([propTypes.number,propTypes.string,propTypes.object])},CKEditor.defaultProps={value:null},module.exports=CKEditor;
